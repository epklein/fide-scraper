    name: Deploy to Hostinger

    on:
      push:
        branches: [ main ]

    jobs:
      deploy:
        runs-on: ubuntu-latest
        steps:
        - uses: actions/checkout@v5
        - name: Deploy to Hostinger
          uses: hostinger/deploy-on-vps@v2
          with:
            api-key: ${{ secrets.HOSTINGER_API_KEY }}
            virtual-machine: ${{ vars.HOSTINGER_VM_ID }}
            docker-compose-path: docker-compose.yaml
            environment-variables: |
              FIDE_PLAYERS_FILE=/data/players.csv
              FIDE_OUTPUT_FILE=/data/fide_ratings.csv
              ADMIN_CC_EMAIL=${{ vars.ADMIN_CC_EMAIL }}
              SMTP_SERVER=${{ vars.SMTP_SERVER }}
              SMTP_PORT=${{ vars.SMTP_PORT }}
              SMTP_USERNAME=${{ secrets.SMTP_USERNAME }}
              SMTP_PASSWORD=${{ secrets.SMTP_PASSWORD }}
              API_ENDPOINT=${{ vars.API_ENDPOINT }}
              API_TOKEN=${{ secrets.API_TOKEN }}